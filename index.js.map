{"version":3,"file":"index.js","sources":["../src/js/mobile-menu.js","../src/js/soundwave-api.js","../src/js/artist-details-modal.js","../src/js/artists-section.js","../src/js/feedback-section.js"],"sourcesContent":["const menu = document.querySelector('.mobile-menu');\nconst open = document.querySelector('.js-mobile-menu');\nconst close = document.querySelector('.js-mobile-close-menu');\nconst backdrop = document.querySelector('.js-mobile-backdrop');\n\nfunction openMenu() {\n  menu.classList.add('is-open');\n  backdrop.classList.add('is-active');\n  document.body.classList.add('no-scroll');\n}\n\nfunction closeMenu() {\n  menu.classList.remove('is-open');\n  backdrop.classList.remove('is-active');\n  document.body.classList.remove('no-scroll');\n}\n\nopen.onclick = openMenu;\nclose.onclick = closeMenu;\nbackdrop.onclick = closeMenu;\n\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape') closeMenu();\n});\n\nmenu.querySelectorAll('a[href^=\"#\"]').forEach(link => {\n  link.onclick = closeMenu;\n});","import axios from 'axios';\n\nconst api = axios.create({\n  baseURL: 'https://sound-wave.b.goit.study/api',\n  timeout: 5000,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\napi.interceptors.response.use(\n  response => response,\n  error => {\n    // iziToast.error або alert на вибір\n    alert('Сталася помилка при запиті до сервера. Спробуйте ще раз.');\n    return Promise.reject(error);\n  }\n);\n\nexport async function fetchArtists() {\n  try {\n    const response = await api.get('/artists');\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function fetchArtistById(id) {\n  try {\n    const response = await api.get(`/artists/${id}/albums`);\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function fetchReviews() {\n  try {\n    const response = await api.get('/reviews');\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n}\n","import { fetchArtistById } from './soundwave-api.js';\n\nconst modal = document.querySelector('[data-modal]');\nconst modalContent = document.getElementById('modal-inner-content');\nconst backdrop = document.querySelector('[data-modal-backdrop]');\nconst loader = document.getElementById('loader');\n\n// ==== Лоадер ====\nfunction showLoader() {\n  loader.classList.remove('is-hidden');\n}\nfunction hideLoader() {\n  loader.classList.add('is-hidden');\n}\n\n// ==== Модалка ====\nfunction openModal() {\n  modal.classList.remove('is-hidden');\n  document.body.style.overflow = 'hidden';\n  document.addEventListener('keydown', onEscKeyPress);\n}\n\nfunction closeModal() {\n  modal.classList.add('is-hidden');\n  document.body.style.overflow = '';\n  document.removeEventListener('keydown', onEscKeyPress);\n  modalContent.innerHTML = '';\n}\n\nfunction onEscKeyPress(e) {\n  if (e.key === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction onBackdropClick(e) {\n  if (e.target === backdrop) {\n    closeModal();\n  }\n}\n\nmodal.addEventListener('click', e => {\n  if (e.target.closest('[data-modal-close]')) {\n    closeModal();\n  }\n});\n\nbackdrop.addEventListener('click', onBackdropClick);\n\n// ==== Формат часу ====\nfunction formatDuration(ms) {\n  const totalSec = Math.floor(ms / 1000);\n  const min = Math.floor(totalSec / 60);\n  const sec = totalSec % 60;\n  return `${min}:${sec.toString().padStart(2, '0')}`;\n}\n\n// ==== Відкрити модалку по id артиста ====\nexport async function openArtistModal(artistId) {\n  try {\n    showLoader();\n    const data = await fetchArtistById(artistId);\n    hideLoader();\n    renderArtistModal(data);\n  } catch (error) {\n    hideLoader();\n    console.error('Error fetching artist:', error);\n    alert('Не вдалося завантажити інформацію про виконавця.');\n  }\n}\n\n// ==== Рендер модалки ====\nfunction renderArtistModal(data) {\n  const {\n    strArtist: name,\n    strArtistThumb: image,\n    intFormedYear,\n    intDiedYear,\n    strGender: sex,\n    intMembers: members,\n    strCountry: country,\n    strBiographyEN: biography,\n    genres,\n    albumsList,\n  } = data;\n\n  const isSoloArtist = members === 1;\n  const artistTypeInfo = isSoloArtist\n    ? `<li><strong>Sex:</strong> ${sex || '—'}</li>`\n    : `<li><strong>Members:</strong> ${members || '—'}</li>`;\n\n  const yearsText =\n    intFormedYear && intDiedYear\n      ? `${intFormedYear}–${intDiedYear}`\n      : intFormedYear\n      ? `${intFormedYear}–present`\n      : 'information missing';\n\n  const metaHTML = `\n    <ul class=\"artist-meta-list\">\n      <li><strong>Years active:</strong> ${yearsText}</li>\n      ${artistTypeInfo}\n      <li><strong>Country:</strong> ${country || '—'}</li>\n    </ul>`;\n\n  const tagsHTML = genres?.map(tag => `<li>${tag}</li>`).join('') || '';\n\n  const albumsHTML =\n    albumsList\n      ?.map(album => {\n        const { strAlbum, tracks } = album;\n        const trackItems = tracks\n          .map(track => {\n            const link =\n              track.movie && track.movie !== 'null'\n                ? `<a href=\"${track.movie}\" target=\"_blank\" rel=\"noopener\">\n              <svg class=\"icon\" width=\"24\" height=\"24\" fill=\"white\">\n                <use href=\"${\n                  import.meta.env.BASE_URL\n                }img/icons.svg#icon-youtube\"></use>\n              </svg>\n            </a>`\n                : '';\n            return `<li><span>${track.strTrack}</span><span>${formatDuration(\n              track.intDuration\n            )}</span>${link}</li>`;\n          })\n          .join('');\n\n        return `\n      <div class=\"album-card\">\n        <h4>${strAlbum}</h4>\n        <div class=\"track-header\">\n          <span>Track</span><span>Time</span><span>Link</span>\n        </div>\n        <ul class=\"track-list\">${trackItems}</ul>\n      </div>`;\n      })\n      .join('') || '';\n\n  modalContent.innerHTML = `\n    <button class=\"artist-modal-close\" type=\"button\" data-modal-close>\n      <svg class=\"icon\" width=\"14\" height=\"14\" fill=\"white\">\n        <use href=\"${import.meta.env.BASE_URL}img/icons.svg#icon-close\"></use>\n      </svg>\n    </button>\n    <h2 class=\"artist-modal-title\">${name}</h2>\n    <div class=\"artist-modal-info\">\n      <img src=\"${\n        image || 'https://placehold.co/300x300'\n      }\" alt=\"${name}\" class=\"artist-modal-img\" />\n      <div class=\"artist-modal-bio\">\n        ${metaHTML}\n        <div class=\"artist-bio\">\n          <h3 class=\"bio-title\">Biography</h3>\n          <p>${biography || '—'}</p>\n        </div>\n        <ul class=\"artist-tags\">${tagsHTML}</ul>\n      </div>\n    </div>\n    <div class=\"artist-albums\">\n      <h3>Albums</h3>\n      <div class=\"album-grid\">${albumsHTML}</div>\n    </div>\n  `;\n\n  openModal();\n}\n","// === artist-section.js ===\nimport { fetchArtists } from './soundwave-api.js';\nimport { openArtistModal } from './artist-details-modal.js';\n\nlet offset = 0;\nconst limit = 8;\nlet allArtists = [];\n\nlet artistsContainer;\nlet loadMoreBtn;\n\nfunction showLoader() {\n  const loader = document.getElementById('loader');\n  if (loader) loader.classList.remove('hidden');\n}\n\nfunction hideLoader() {\n  const loader = document.getElementById('loader');\n  if (loader) loader.classList.add('hidden');\n}\n\nfunction getGenres(artist) {\n  if (!artist || typeof artist !== 'object') return [];\n\n  if (Array.isArray(artist.genres) && artist.genres.length > 0) {\n    return artist.genres.filter(Boolean);\n  }\n\n  const genreFields = [\n    'strGenre',\n    'strGenre2',\n    'strGenre3',\n    'strStyle',\n    'strMood',\n    'strMood2',\n    'strMood3',\n  ];\n\n  const genres = genreFields\n    .map(field => artist[field])\n    .filter(val => typeof val === 'string' && val.trim())\n    .map(val => val.trim())\n    .filter((val, idx, arr) => arr.indexOf(val) === idx);\n\n  return genres.length ? genres.join(', ') : 'N/A';\n}\n\nasync function createCard(artist) {\n  const card = document.createElement('div');\n  card.className = 'artist-card';\n\n  const img = document.createElement('img');\n  img.src =\n    artist.strArtistThumb ||\n    'https://placehold.co/150x150/cccccc/333333?text=No+Image';\n  img.alt = artist.strArtist || 'No Image';\n  img.addEventListener('error', function () {\n    this.src = 'https://placehold.co/150x150/cccccc/333333?text=No+Image';\n    this.alt = 'No Image Available';\n  });\n  card.appendChild(img);\n\n  const h3 = document.createElement('h3');\n  h3.textContent = artist.strArtist || 'Unknown Artist';\n  card.appendChild(h3);\n\n  const genresP = document.createElement('p');\n  const genresStrong = document.createElement('strong');\n  genresStrong.textContent = 'Genres: ';\n  genresP.appendChild(genresStrong);\n  const genresList = getGenres(artist);\n  if (genresList.length) {\n    const ul = document.createElement('ul');\n    ul.classList.add('artist-genres-list');\n    genresList.forEach(genre => {\n      const li = document.createElement('li');\n      li.textContent = genre;\n      ul.appendChild(li);\n    });\n    genresP.appendChild(ul);\n  } else {\n    genresP.appendChild(document.createTextNode('N/A'));\n  }\n  card.appendChild(genresP);\n\n  const shortInfoP = document.createElement('p');\n  shortInfoP.className = 'artist-description';\n  const bio = artist.strBiographyEN || 'No short info available.';\n  shortInfoP.textContent = bio.length > 200 ? bio.slice(0, 200) + '...' : bio;\n  card.appendChild(shortInfoP);\n\n  const learnMoreButton = document.createElement('button');\n  learnMoreButton.className = 'learn-more-btn';\n  learnMoreButton.textContent = 'Learn More';\n  learnMoreButton.dataset.artistId = artist._id;\n  card.appendChild(learnMoreButton);\n\n  return card;\n}\n\nasync function loadArtistsDataAndDisplay() {\n  try {\n    showLoader();\n\n    if (offset === 0) {\n      const data = await fetchArtists();\n      const artistsArray = Array.isArray(data?.artists) ? data.artists : null;\n      if (!artistsArray) {\n        alert('Error: Received invalid data from server.');\n        loadMoreBtn?.classList.add('hidden');\n        loadMoreBtn?.setAttribute('disabled', true);\n        return;\n      }\n      allArtists = artistsArray;\n      artistsContainer.innerHTML = '';\n    }\n\n    const artistsToDisplay = allArtists.slice(offset, offset + limit);\n    for (const artist of artistsToDisplay) {\n      const card = await createCard(artist);\n      artistsContainer.appendChild(card);\n    }\n\n    offset += limit;\n\n    if (offset >= allArtists.length) {\n      loadMoreBtn?.classList.add('hidden');\n      loadMoreBtn?.setAttribute('disabled', true);\n    } else {\n      loadMoreBtn?.classList.remove('hidden');\n      loadMoreBtn?.removeAttribute('disabled');\n    }\n  } catch (error) {\n    alert('Failed to load artists. Please try again later.');\n    loadMoreBtn?.classList.add('hidden');\n    loadMoreBtn?.setAttribute('disabled', true);\n  } finally {\n    hideLoader();\n  }\n}\n\nfunction initArtistSection() {\n  artistsContainer = document.getElementById('artistsContainer');\n  loadMoreBtn = document.getElementById('loadMoreBtn');\n\n  if (!artistsContainer || !loadMoreBtn) return;\n\n  loadMoreBtn.onclick = loadArtistsDataAndDisplay;\n  loadArtistsDataAndDisplay();\n\n  artistsContainer.addEventListener('click', e => {\n    const button = e.target.closest('.learn-more-btn');\n    if (button) {\n      const artistId = button.dataset.artistId;\n      if (artistId) openArtistModal(artistId);\n    }\n  });\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initArtistSection();\n});\n\nexport { initArtistSection };\n","import 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\nimport Swiper from 'swiper';\nimport { Navigation, Pagination, Autoplay } from 'swiper/modules';\nimport axios from 'axios';\nimport 'css-star-rating/css/star-rating.min.css';\n\nconst feedBack = document.querySelector('.swiper-wrapper');\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const swiper = new Swiper('.modal-product__slider', {\n    loop: false,\n    modules: [Navigation, Pagination, Autoplay],\n    pagination: {\n      el: '.swiper-pagination',\n      clickable: true,\n      renderBullet: function (index, className) {\n        if (index === 0)\n          return (\n            '<span class=\"' + className + ' bullet left\" data-slide=\"0\"></span>'\n          );\n        if (index === 1)\n          return (\n            '<span class=\"' +\n            className +\n            ' bullet center\" data-slide=\"middle\"></span>'\n          );\n        if (index === 2)\n          return (\n            '<span class=\"' +\n            className +\n            ' bullet right\" data-slide=\"last\"></span>'\n          );\n        return '';\n      },\n      bulletClass: 'bullet',\n      bulletActiveClass: 'swiper-pagination-bullet-active',\n    },\n    navigation: {\n      nextEl: '.custom-next',\n      prevEl: '.custom-prev',\n    },\n    autoplay: {\n      delay: 5000,\n    },\n    on: {\n      init() {\n        updateCustomBullets(this.realIndex, this.slides.length);\n        setupBulletClicks(this);\n      },\n      slideChange() {\n        updateCustomBullets(this.realIndex, this.slides.length);\n      },\n    },\n  });\n\n  async function getFeedBack() {\n    try {\n      const baseURL = 'https://sound-wave.b.goit.study/api';\n      const endPoint = '/feedbacks';\n      const url = baseURL + endPoint;\n      const params = { limit: 12 };\n      const res = await axios.get(url, { params });\n      console.log('API Data:', res.data);\n      return res.data;\n    } catch (e) {\n      console.error('Error fetching feedback:', e);\n      return null;\n    }\n  }\n\n  function createFeedBack(feedBacks) {\n    const markup = feedBacks\n      .map(({ _id, name, rating, descr }) => {\n        const roundedRating = Math.round(rating);\n        console.log('Rating for', name, ':', roundedRating);\n        return `\n          <div class=\"swiper-slide\" data-id=\"${_id || ''}\">\n            <div class=\"rating\" data-rating=\"${roundedRating}\"></div>\n            <p class='feed-back-descr'>${descr || ''}</p>\n            <p class='feed-back-name'>${name || ''}</p>\n          </div>\n        `;\n      })\n      .join('');\n\n    feedBack.innerHTML = markup;\n    initializeStarRatings(); // Ініціалізація зірок після рендерингу\n    swiper.update();\n  }\n\n  function initializeStarRatings() {\n    document.querySelectorAll('.rating').forEach(element => {\n      const rating = parseInt(element.dataset.rating);\n      if (isNaN(rating)) {\n        console.error('Invalid rating value:', element.dataset.rating);\n        return;\n      }\n      element.innerHTML = `\n        <span class=\"star-rating\">\n          ${[...Array(5)]\n            .map(\n              (_, i) =>\n                `<span class=\"star ${i < rating ? 'filled' : ''}\">★</span>`\n            )\n            .join('')}\n        </span>\n      `;\n    });\n  }\n\n  function updateCustomBullets(index, total) {\n    const bullets = document.querySelectorAll('.swiper-pagination .bullet');\n    bullets.forEach(b => b.classList.remove('swiper-pagination-bullet-active'));\n\n    if (index === 0) {\n      bullets[0].classList.add('swiper-pagination-bullet-active');\n    } else if (index === total - 1) {\n      bullets[2].classList.add('swiper-pagination-bullet-active');\n    } else {\n      bullets[1].classList.add('swiper-pagination-bullet-active');\n    }\n  }\n\n  function setupBulletClicks(swiperInstance) {\n    document.querySelector('.bullet.left')?.addEventListener('click', () => {\n      swiperInstance.slideTo(0);\n    });\n\n    document.querySelector('.bullet.center')?.addEventListener('click', () => {\n      const middleIndex = Math.floor((total - 1) / 2);\n      swiperInstance.slideTo(middleIndex);\n    });\n\n    document.querySelector('.bullet.right')?.addEventListener('click', () => {\n      swiperInstance.slideTo(swiperInstance.slides.length - 1);\n    });\n  }\n\n  getFeedBack().then(data => {\n    if (data) {\n      const feedBacks = Array.isArray(data)\n        ? data\n        : data.results || data.data || [];\n      createFeedBack(feedBacks);\n    }\n  });\n});\n"],"names":["menu","open","close","backdrop","openMenu","closeMenu","link","api","axios","response","error","fetchArtists","fetchArtistById","id","modal","modalContent","loader","showLoader","hideLoader","openModal","onEscKeyPress","closeModal","onBackdropClick","formatDuration","ms","totalSec","min","sec","openArtistModal","artistId","data","renderArtistModal","name","image","intFormedYear","intDiedYear","sex","members","country","biography","genres","albumsList","artistTypeInfo","metaHTML","tagsHTML","tag","albumsHTML","album","strAlbum","tracks","trackItems","track","offset","limit","allArtists","artistsContainer","loadMoreBtn","getGenres","artist","field","val","idx","arr","createCard","card","img","h3","genresP","genresStrong","genresList","ul","genre","li","shortInfoP","bio","learnMoreButton","loadArtistsDataAndDisplay","artistsArray","artistsToDisplay","initArtistSection","button","feedBack","swiper","Swiper","Navigation","Pagination","Autoplay","index","className","updateCustomBullets","setupBulletClicks","getFeedBack","url","params","res","e","createFeedBack","feedBacks","markup","_id","rating","descr","roundedRating","initializeStarRatings","element","_","i","total","bullets","b","swiperInstance","_a","_b","middleIndex","_c"],"mappings":"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"}